{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\database_SAME\\\\databaseSAME\\\\components\\\\professorList.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { supabase } from '../supabaseClient';\nimport { Button, Card, Title, Paragraph } from 'react-native-paper';\nimport { useIsFocused } from '@react-navigation/native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfessorList = ({\n  navigation\n}) => {\n  const [professors, setProfessors] = useState([]);\n  const isFocused = useIsFocused();\n  const fetchProfessors = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('Docentes').select('*').order('ordem', {\n      ascending: true\n    }).neq('is_deleted', true);\n    if (error) {\n      console.error('Erro ao buscar professores:', error);\n      Alert.alert('Erro', 'Não foi possível carregar os professores.');\n    } else {\n      setProfessors(data);\n    }\n  };\n  useEffect(() => {\n    if (isFocused) {\n      fetchProfessors();\n    }\n  }, [isFocused]);\n  const handleDelete = id => {\n    Alert.alert('Confirmar Exclusão', 'Você tem certeza que deseja excluir este professor?', [{\n      text: 'Cancelar',\n      style: 'cancel'\n    }, {\n      text: 'Excluir',\n      style: 'destructive',\n      onPress: () => deleteProfessor(id)\n    }]);\n  };\n  const deleteProfessor = async id => {\n    const {\n      data,\n      error\n    } = await supabase.from('Docentes').update({\n      is_deleted: true\n    }).eq('ID_Docente', id);\n    if (error) {\n      console.error('Erro ao excluir professor:', error);\n      Alert.alert('Erro', 'Não foi possível excluir o professor.');\n    } else {\n      Alert.alert('Sucesso', 'Professor excluído com sucesso.');\n      fetchProfessors();\n    }\n  };\n  const renderItem = ({\n    item\n  }) => _jsxDEV(Card, {\n    style: styles.card,\n    children: [_jsxDEV(Card.Content, {\n      children: [_jsxDEV(Title, {\n        children: item.Nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), _jsxDEV(Paragraph, {\n        children: [\"Carga Hor\\xE1ria: \", item.carga_horaria]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), _jsxDEV(Paragraph, {\n        children: [\"Ordem: \", item.ordem]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), _jsxDEV(Card.Actions, {\n      style: styles.cardActions,\n      children: [_jsxDEV(Button, {\n        onPress: () => navigation.navigate('EditProfessor', {\n          professor: item\n        }),\n        children: \"Editar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), _jsxDEV(Button, {\n        color: \"red\",\n        onPress: () => handleDelete(item.ID_Docente),\n        children: \"Excluir\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(Button, {\n      mode: \"contained\",\n      onPress: () => navigation.navigate('AddProfessor'),\n      style: styles.addButton,\n      children: \"Adicionar Professor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), _jsxDEV(FlatList, {\n      data: professors,\n      keyExtractor: item => item.ID_Docente.toString(),\n      renderItem: renderItem,\n      contentContainerStyle: styles.list,\n      refreshing: false,\n      onRefresh: fetchProfessors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16\n  },\n  addButton: {\n    marginBottom: 16\n  },\n  list: {\n    paddingBottom: 16\n  },\n  card: {\n    marginBottom: 12\n  },\n  cardActions: {\n    justifyContent: 'flex-end'\n  }\n});\nexport default ProfessorList;","map":{"version":3,"names":["React","useEffect","useState","View","FlatList","StyleSheet","Alert","supabase","Button","Card","Title","Paragraph","useIsFocused","jsxDEV","_jsxDEV","ProfessorList","navigation","professors","setProfessors","isFocused","fetchProfessors","data","error","from","select","order","ascending","neq","console","alert","handleDelete","id","text","style","onPress","deleteProfessor","update","is_deleted","eq","renderItem","item","styles","card","children","Content","Nome","fileName","_jsxFileName","lineNumber","columnNumber","carga_horaria","ordem","Actions","cardActions","navigate","professor","color","ID_Docente","container","mode","addButton","keyExtractor","toString","contentContainerStyle","list","refreshing","onRefresh","create","flex","padding","marginBottom","paddingBottom","justifyContent"],"sources":["E:/React/database_SAME/databaseSAME/components/professorList.tsx"],"sourcesContent":["// components/ProfessorList.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { View, Text, FlatList, StyleSheet, Alert } from 'react-native';\r\nimport { supabase } from '../supabaseClient';\r\nimport { Button, Card, Title, Paragraph } from 'react-native-paper';\r\nimport { useIsFocused } from '@react-navigation/native';\r\n\r\nconst ProfessorList = ({ navigation }) => {\r\n  const [professors, setProfessors] = useState([]);\r\n  const isFocused = useIsFocused();\r\n\r\n  const fetchProfessors = async () => {\r\n    const { data, error } = await supabase\r\n      .from('Docentes')\r\n      .select('*')\r\n      .order('ordem', { ascending: true })\r\n      .neq('is_deleted', true);\r\n\r\n    if (error) {\r\n      console.error('Erro ao buscar professores:', error);\r\n      Alert.alert('Erro', 'Não foi possível carregar os professores.');\r\n    } else {\r\n      setProfessors(data);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isFocused) {\r\n      fetchProfessors();\r\n    }\r\n  }, [isFocused]);\r\n\r\n  const handleDelete = (id) => {\r\n    Alert.alert(\r\n      'Confirmar Exclusão',\r\n      'Você tem certeza que deseja excluir este professor?',\r\n      [\r\n        { text: 'Cancelar', style: 'cancel' },\r\n        { text: 'Excluir', style: 'destructive', onPress: () => deleteProfessor(id) },\r\n      ]\r\n    );\r\n  };\r\n\r\n  const deleteProfessor = async (id) => {\r\n    const { data, error } = await supabase\r\n      .from('Docentes')\r\n      .update({ is_deleted: true })\r\n      .eq('ID_Docente', id);\r\n\r\n    if (error) {\r\n      console.error('Erro ao excluir professor:', error);\r\n      Alert.alert('Erro', 'Não foi possível excluir o professor.');\r\n    } else {\r\n      Alert.alert('Sucesso', 'Professor excluído com sucesso.');\r\n      fetchProfessors();\r\n    }\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <Card style={styles.card}>\r\n      <Card.Content>\r\n        <Title>{item.Nome}</Title>\r\n        <Paragraph>Carga Horária: {item.carga_horaria}</Paragraph>\r\n        <Paragraph>Ordem: {item.ordem}</Paragraph>\r\n      </Card.Content>\r\n      <Card.Actions style={styles.cardActions}>\r\n        <Button onPress={() => navigation.navigate('EditProfessor', { professor: item })}>\r\n          Editar\r\n        </Button>\r\n        <Button color=\"red\" onPress={() => handleDelete(item.ID_Docente)}>\r\n          Excluir\r\n        </Button>\r\n      </Card.Actions>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Button\r\n        mode=\"contained\"\r\n        onPress={() => navigation.navigate('AddProfessor')}\r\n        style={styles.addButton}\r\n      >\r\n        Adicionar Professor\r\n      </Button>\r\n      <FlatList\r\n        data={professors}\r\n        keyExtractor={(item) => item.ID_Docente.toString()}\r\n        renderItem={renderItem}\r\n        contentContainerStyle={styles.list}\r\n        refreshing={false}\r\n        onRefresh={fetchProfessors}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  addButton: {\r\n    marginBottom: 16,\r\n  },\r\n  list: {\r\n    paddingBottom: 16,\r\n  },\r\n  card: {\r\n    marginBottom: 12,\r\n  },\r\n  cardActions: {\r\n    justifyContent: 'flex-end',\r\n  },\r\n});\r\n\r\nexport default ProfessorList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}